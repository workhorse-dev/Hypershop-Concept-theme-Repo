<style>
  .lang-switcher {
    position: relative;
    width: 200px;
    font-family: Arial, sans-serif;
  }

  .lang-selected {
    background: #fff;
    border: 1px solid #ccc;
    padding: 8px 12px;
    cursor: pointer;
    user-select: none;
  }

  .lang-options {
    display: none;
    position: absolute;
    top: 100%;
    width: 100%;
    background: white;
    border: 1px solid #ccc;
    max-height: 250px;
    overflow-y: auto;
    z-index: 9999;
  }

  .lang-options div {
    padding: 8px 12px;
    cursor: pointer;
  }

  .lang-options div:hover {
    background-color: #f0f0f0;
  }
</style>

<div class="lang-switcher">
  <div class="lang-selected" onclick="toggleDropdown()">üåê Select Language</div>
  <div class="lang-options" id="langOptions">
    <!-- Language items will be inserted here by JavaScript -->
  </div>
</div>
<script>
  const languages = [
    { name: "Afrikaans", code: "af" }, { name: "Albanian", code: "sq" },
    { name: "Amharic", code: "am" }, { name: "Arabic", code: "ar" },
    { name: "Armenian", code: "hy" }, { name: "Urdu", code: "ur" },
    { name: "Uzbek", code: "uz" }, { name: "Vietnamese", code: "vi" },
    { name: "Welsh", code: "cy" }, { name: "Xhosa", code: "xh" },
    { name: "Yiddish", code: "yi" }, { name: "Yoruba", code: "yo" },
    { name: "Zulu", code: "zu" },
    { name: "English", code: "en" }, { name: "French", code: "fr" },
    { name: "German", code: "de" }, { name: "Hindi", code: "hi" },
    { name: "Spanish", code: "es" }, { name: "Chinese (Simplified)", code: "zh-CN" },
    // Add more as needed (50+ entries)
  ];

  const langOptionsDiv = document.getElementById('langOptions');

  // Populate dropdown
  languages.forEach(lang => {
    const option = document.createElement('div');
    option.textContent = lang.name;
    option.onclick = () => {
      doGTranslate(`en|${lang.code}`);
      document.querySelector('.lang-selected').textContent = lang.name;
      langOptionsDiv.style.display = 'none';
    };
    langOptionsDiv.appendChild(option);
  });

  // Toggle dropdown
  function toggleDropdown() {
    const options = document.getElementById('langOptions');
    options.style.display = options.style.display === 'block' ? 'none' : 'block';
  }

  // Close if clicked outside
  document.addEventListener('click', function (e) {
    if (!document.querySelector('.lang-switcher').contains(e.target)) {
      langOptionsDiv.style.display = 'none';
    }
  });

  // Translate function
  function GTranslateFireEvent(element, event) {
    const evt = document.createEvent("HTMLEvents");
    evt.initEvent(event, true, true);
    element.dispatchEvent(evt);
  }

  function doGTranslate(lang_pair) {
    if (lang_pair === '') return;
    const lang = lang_pair.split('|')[1];
    const select = document.querySelector('.goog-te-combo');
    if (!select) {
      setTimeout(() => doGTranslate(lang_pair), 500);
    } else {
      select.value = lang;
      GTranslateFireEvent(select, 'change');
    }
  }
</script>

