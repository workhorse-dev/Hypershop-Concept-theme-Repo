<style>
  .lang-switcher {
    position: relative;
    width: 200px;
    font-family: Arial, sans-serif;
  }

  .lang-selected {
    background: #fff;
    border: 1px solid #ccc;
    padding: 8px 12px;
    cursor: pointer;
    user-select: none;
  }

  .lang-options {
    display: none;
    position: absolute;
    top: 100%;
    width: 100%;
    background: white;
    border: 1px solid #ccc;
    max-height: 250px;
    overflow-y: auto;
    z-index: 9999;
  }

  .lang-options div {
    padding: 8px 12px;
    cursor: pointer;
  }

  .lang-options div:hover {
    background-color: #f0f0f0;
  }
</style>

<div class="lang-switcher">
  <div class="lang-selected" onclick="toggleDropdown()">üåê Select Language</div>
  <div class="lang-options" id="langOptions">
    <!-- Language items will be inserted here by JavaScript -->
  </div>
</div>

<script>
  if (!window.customLangDropdownInitialized) {
    window.customLangDropdownInitialized = true;

    const languages = [
      { name: "Afrikaans", code: "af" }, { name: "Albanian", code: "sq" },
      { name: "Amharic", code: "am" }, { name: "Arabic", code: "ar" },
      { name: "Armenian", code: "hy" }, { name: "Urdu", code: "ur" },
      { name: "Uzbek", code: "uz" }, { name: "Vietnamese", code: "vi" },
      { name: "Welsh", code: "cy" }, { name: "Xhosa", code: "xh" },
      { name: "Yiddish", code: "yi" }, { name: "Yoruba", code: "yo" },
      { name: "Zulu", code: "zu" }, { name: "English", code: "en" },
      { name: "French", code: "fr" }, { name: "German", code: "de" },
      { name: "Hindi", code: "hi" }, { name: "Spanish", code: "es" },
      { name: "Chinese (Simplified)", code: "zh-CN" }
    ];

    function toggleDropdown() {
      const options = document.getElementById("langOptions");
      options.style.display = options.style.display === "block" ? "none" : "block";
    }

    function doGTranslate(langCode) {
      const combo = document.querySelector(".goog-te-combo");
      if (combo) {
        combo.value = langCode;
        combo.dispatchEvent(new Event("change"));
      }
    }

    document.addEventListener("DOMContentLoaded", () => {
      const container = document.getElementById("langOptions");
      if (container) {
        languages.forEach(lang => {
          const div = document.createElement("div");
          div.textContent = lang.name;
          div.onclick = () => {
            doGTranslate(lang.code);
            document.querySelector(".lang-selected").textContent = lang.name;
            container.style.display = "none";
          };
          container.appendChild(div);
        });
      }
    });
  }
</script>


